"use strict";(self.webpackChunkmarvel_universe_app=self.webpackChunkmarvel_universe_app||[]).push([[621],{3416:function(e,t,n){n.d(t,{Z:function(){return b}});var r=n(8683),a=n(885),c=n(2791),s=n(4304),i=n(458),o=n(2312),u=n(5284),l=n(184),h=function(e){var t=e.name,n=e.description,r=e.thumbnail,a=e.homepage,c=e.wiki;return t||(t="There is no name yet"),n||(n="There is no description yet"),n.length>200&&(n=n.slice(0,200)+"..."),r||(r="http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("img",{className:"banner-character__img",src:r,alt:t,width:200,height:200}),(0,l.jsxs)("div",{className:"banner-character__info",children:[(0,l.jsx)("h2",{className:"banner-character__name",children:t}),(0,l.jsx)("p",{className:"banner-character__description",children:n}),(0,l.jsxs)("div",{className:"banner-character__buttons",children:[(0,l.jsx)(u.Z,{buttonClasses:"banner-character__button button--accent",buttonName:"Homepage",buttonUrl:a}),(0,l.jsx)(u.Z,{buttonClasses:"banner-character__button",buttonName:"Wiki",buttonUrl:c})]})]})]})},d=function(){var e=(0,c.useState)({}),t=(0,a.Z)(e,2),n=t[0],d=t[1],m=(0,s.Z)(),f=m.loading,p=m.error,b=m.getAllCharacters,v=m.getCharacter,g=m.clearError;(0,c.useEffect)((function(){j()}),[]);var x=function(e){d(e)},j=function(){var e,t=[];g(),b().then((function(n){n.forEach((function(e){"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"!==e.thumbnail&&t.push(e.id)})),e=t.sort()[Math.floor(Math.random()*t.length)],v(e).then(x)}))},_=p?(0,l.jsx)(o.Z,{}):null,y=f?(0,l.jsx)(i.Z,{}):null,Z=f||p?null:(0,l.jsx)(h,(0,r.Z)({},n));return(0,l.jsxs)("div",{className:"banner",children:[(0,l.jsxs)("div",{className:"col banner__random",children:[(0,l.jsx)("p",{className:"banner__text",children:"Random character for today:"}),(0,l.jsx)("p",{className:"banner__text",children:"Do you want to know him better?"})]}),(0,l.jsx)("div",{className:"col banner__main",children:(0,l.jsxs)("div",{className:"banner-character",children:[_,y,Z]})}),(0,l.jsxs)("div",{className:"col banner__try",children:[(0,l.jsx)("p",{className:"banner__text",children:"Or choose another one"}),(0,l.jsx)("div",{className:"banner__buttons",children:(0,l.jsx)(u.Z,{buttonClasses:"banner__button button--accent button--dark-bg",buttonName:"Try it",onClick:j})})]})]})},m=n(2318),f=n(6392),p=function(e){return(0,l.jsxs)("div",{className:"banner banner--ad",children:[(0,l.jsx)("img",{className:"banner__img",src:m,alt:"avengers",width:152,height:100}),(0,l.jsx)("div",{className:"banner__info",children:(0,l.jsxs)("h2",{className:"banner__text",children:["New comics every week!",(0,l.jsx)("br",{}),"Stay tuned!"]})}),(0,l.jsx)("img",{className:"banner__img",src:f,alt:"avengers logo",width:133,height:100})]})},b=function(e){return e.bannerCharacter?(0,l.jsx)(d,{}):(0,l.jsx)(p,{})}},5284:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(184),a=function(e){var t=e.buttonClasses,n=e.buttonName,a=e.buttonUrl,c=e.onClick,s=e.disabled,i=e.style,o=e.type;return a?(0,r.jsx)("a",{className:"button "+t,href:a,target:"_blank",rel:"noopener noreferrer",disabled:s,style:i,children:n}):(0,r.jsx)("button",{type:o||"button",className:"button "+t,onClick:c,disabled:s,style:i,children:n})}},6464:function(e,t,n){var r=n(5671),a=n(3144),c=n(136),s=n(3668),i=n(2791),o=n(2312),u=n(184),l=function(e){(0,c.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={error:!1},e}return(0,a.Z)(n,[{key:"componentDidCatch",value:function(e,t){console.log(e,t),this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?(0,u.jsx)(o.Z,{}):this.props.children}}]),n}(i.Component);t.Z=l},2312:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(4679),a=n(184),c=function(){return(0,a.jsxs)("div",{className:"error-message",children:[(0,a.jsx)("img",{className:"error-message__icon",src:r,alt:"error - try again later",width:100,height:100}),(0,a.jsx)("p",{className:"error-message__text",children:"something went wrong... try again later"})]})}},4621:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n(6907),a=n(6464),c=n(3416),s=n(2982),i=n(885),o=n(2791),u=n(3504),l=n(5284),h=n(4304),d=n(2312),m=n(458),f=n(184),p=function(e){var t=(0,o.useState)([]),n=(0,i.Z)(t,2),r=n[0],a=n[1],c=(0,o.useState)(!1),p=(0,i.Z)(c,2),b=p[0],v=p[1],g=(0,o.useState)(0),x=(0,i.Z)(g,2),j=x[0],_=x[1],y=(0,o.useState)(!1),Z=(0,i.Z)(y,2),w=Z[0],N=Z[1],k=(0,h.Z)(),C=k.loading,O=k.error,E=k.getAllComics,P=(0,o.useRef)([]);(0,o.useEffect)((function(){S()}),[]);var S=function(e){v(!e),E().then(A)},A=function(e){var t=!1;e.length<j&&(t=!0),a([].concat((0,s.Z)(r),(0,s.Z)(e))),v((function(e){return!1})),_((function(e){return e+4})),N((function(e){return t}))},T=function(e){P.current.forEach((function(e){e.classList.remove("active")})),P.current[e].classList.add("active"),P.current[e].focus()},D=function(e){var t=e.slice(0,j).map((function(e,t){return(0,f.jsx)("li",{className:"comics__item",tabIndex:0,ref:function(e){return P.current[t]=e},onClick:function(){T(t)},onKeyPress:function(e){" "!==e.key&&"Enter"!==e.key||T(t)},children:(0,f.jsxs)(u.rU,{to:"/comics/".concat(e.id),children:[(0,f.jsx)("img",{className:"comics__img",src:e.thumbnail,alt:e.title,width:225,height:346}),(0,f.jsx)("h3",{className:"comics__title",children:e.title}),(0,f.jsx)("p",{className:"comics__price",children:e.price})]})},e.id)}));return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("ul",{className:"comics__list",children:t})})}(r),M=O?(0,f.jsx)(d.Z,{}):null,U=C?(0,f.jsx)(m.Z,{}):null;return(0,f.jsxs)("div",{className:"comics",children:[D,M,U,D?(0,f.jsx)(l.Z,{buttonClasses:"comics__button button--accent",buttonName:"Load more",disabled:b,style:{display:w?"none":"block"},onClick:S}):null]})},b=function(){return(0,f.jsxs)(r.B6,{children:[(0,f.jsxs)(r.ql,{children:[(0,f.jsx)("title",{children:"Marvel Universe | ComicsPage"}),(0,f.jsx)("meta",{name:"description",content:"Marvel Universe inform portal | ComicsPage"})]}),(0,f.jsx)("div",{className:"banners",children:(0,f.jsx)(a.Z,{children:(0,f.jsx)(c.Z,{})})}),(0,f.jsx)(a.Z,{children:(0,f.jsx)(p,{})})]})}},4304:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(5861),a=n(7757),c=n.n(a),s=n(885),i=n(2791),o=function(){var e=function(){var e=(0,i.useState)(!1),t=(0,s.Z)(e,2),n=t[0],a=t[1],o=(0,i.useState)(null),u=(0,s.Z)(o,2),l=u[0],h=u[1],d=(0,i.useState)("waiting"),m=(0,s.Z)(d,2),f=m[0],p=m[1],b=(0,i.useCallback)(function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,s,i,o,u=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:"GET",r=u.length>2&&void 0!==u[2]?u[2]:null,s=u.length>3&&void 0!==u[3]?u[3]:{"Content-Type":"application/json"},a(!0),p("loading"),e.prev=5,e.next=8,fetch(t,{method:n,body:r,headers:s});case 8:if((i=e.sent).ok){e.next=11;break}throw new Error("Could not fetch ".concat(t,", status: ").concat(i.status));case 11:return e.next=13,i.json();case 13:return o=e.sent,a(!1),e.abrupt("return",o);case 18:throw e.prev=18,e.t0=e.catch(5),a(!1),h(e.t0.message),p("error"),e.t0;case 24:case"end":return e.stop()}}),e,null,[[5,18]])})));return function(t){return e.apply(this,arguments)}}(),[]);return{loading:n,request:b,error:l,clearError:(0,i.useCallback)((function(){h(null),p("loading")}),[]),process:f,setProcess:p}}(),t=e.loading,n=e.request,a=e.error,o=e.clearError,u=e.process,l=e.setProcess,h="https://gateway.marvel.com:443/v1/public/",d="apikey=fdc3403625ab83ef45aae10672f12243",m=0,f=0,p=[],b=[],v=function(){var e=(0,r.Z)(c().mark((function e(){var t,r,a=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:100,r=a.length>1&&void 0!==a[1]?a[1]:m,e.next=4,n("".concat(h,"characters?offset=").concat(r,"&limit=").concat(t,"&").concat(d));case 4:return e.sent.data.results.forEach((function(e){m++,"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available"!==e.thumbnail.path&&p.push(e)})),e.abrupt("return",p.map(y));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=(0,r.Z)(c().mark((function e(){var t,r,a=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:100,r=a.length>1&&void 0!==a[1]?a[1]:f,e.next=4,n("".concat(h,"comics?dateDescriptor=thisMonth&orderBy=issueNumber&limit=").concat(t,"&offset=").concat(r,"&").concat(d));case 4:return e.sent.data.results.forEach((function(e){f++,"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available"!==e.thumbnail.path&&b.push(e)})),e.abrupt("return",b.map(Z));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=(0,r.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("".concat(h,"characters/").concat(t,"?").concat(d));case 2:return r=e.sent,e.abrupt("return",y(r.data.results[0]));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=(0,r.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("".concat(h,"characters?name=").concat(t,"&").concat(d));case 2:return r=e.sent,e.abrupt("return",r.data.results.map(y));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=(0,r.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("".concat(h,"comics/").concat(t,"?").concat(d));case 2:return r=e.sent,e.abrupt("return",Z(r.data.results[0]));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e){return{id:e.id,name:e.name||"Character",description:e.description||"There is no description",thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,homepage:e.urls[0].url,wiki:e.urls[1].url,comics:e.comics.items}},Z=function(e){return{id:e.id,title:e.title,description:e.description||"There is no description",pageCount:e.pageCount?"".concat(e.pageCount," pages"):"No information about the number of pages",thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,language:e.textObjects.language||"en-us",price:e.prices[0].price?"".concat(e.prices[0].price,"$"):"not available"}};return{loading:t,error:a,process:u,setProcess:l,getAllCharacters:v,getCharacter:x,getCharacterByName:j,clearError:o,getAllComics:g,getComic:_}}},4679:function(e,t,n){e.exports=n.p+"static/media/ErrorMessage.bc41c7f26ab86e33a36d.png"},2318:function(e,t,n){e.exports=n.p+"static/media/avengers.23ae6addf9f7a06910b5.png"},6392:function(e,t,n){e.exports=n.p+"static/media/avengers_logo.907cc9033aa5c42ea32f.png"},8683:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,{Z:function(){return c}})},2982:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(907);var a=n(181);function c(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=621.84904d1b.chunk.js.map